(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4694],{3572:(e,t,l)=>{Promise.resolve().then(l.bind(l,6462))},6462:(e,t,l)=>{"use strict";l.d(t,{default:()=>y});var n=l(5155),s=l(2115),a=l(7840),r=l(1189),i=l(6766);let o=e=>{let{information:t}=e;return(0,n.jsxs)("article",{className:"cursor-default min-h-screen w-full flex flex-col items-center gap-y-16",children:[(0,n.jsx)(i.default,{src:"/images/logo.svg",alt:t.title,width:72,height:72,className:"self-center inline-block w-full h-auto aspect-square max-w-[200px] md:max-w-[222px]",priority:!0}),(0,n.jsx)("p",{className:"text-balance break-keep leading-loose",children:t.information}),(0,n.jsx)("table",{className:"w-full break-keep",children:(0,n.jsx)("tbody",{children:t.keywords.map(e=>(0,n.jsxs)("tr",{className:"",children:[(0,n.jsx)("td",{className:"text-nowrap font-bold align-top pb-6 pr-4 min-w-fit",children:e.keyword}),(0,n.jsx)("td",{className:"align-top pb-4",children:e.description})]},e.keyword))})})]})},c=e=>{let{history:t}=e;return(0,n.jsxs)("section",{className:"cursor-default flex flex-col gap-y-6",children:[(0,n.jsx)(a.A,{title:t.title}),(0,n.jsx)("table",{className:"w-full break-keep",children:(0,n.jsx)("tbody",{children:t.contents.map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"text-nowrap font-bold align-top pr-6 w-fit",children:e.date}),(0,n.jsx)("td",{className:"align-top pb-6 w-full",children:(0,n.jsx)("ul",{className:"flex flex-col gap-y-5",children:e.event.map(e=>(0,n.jsxs)("li",{className:"flex flex-col gap-y-5",children:[(0,n.jsx)("p",{children:e.content}),e.img&&(0,n.jsx)(i.default,{src:e.img,alt:e.content,width:500,height:500,className:"w-full h-auto max-h-[500px] object-cover pb-3"})]},e.id))})})]},"".concat(e.date,"-").concat(t)))})})]})},d=e=>{let{sections:t,activeSection:l,contentRef:s,shouldTranslateTOC:a,sectionRefs:i,scrollToSection:d}=e;return(0,n.jsxs)("div",{ref:s,className:"relative block md:hidden min-h-screen transition-all duration-300 ease-in-out\n             ".concat(a?"translate-y-[72px]":"translate-y-0"),children:[(0,n.jsx)("nav",{className:"container-full bg-background mt-16 sticky top-0 z-40 transition-all duration-300 ease-in-out",children:(0,n.jsx)("div",{className:"w-full flex flex-wrap",children:t.map(e=>{let{title:t}=e;return(0,n.jsx)("button",{onClick:()=>d(t+"mobile"),className:"\n                    flex-1 text-nowrap px-2 text-base font-bold transition-colors duration-200 text-center\n                    hover:text-primary/80 cursor-pointer border-b py-4\n                    ".concat(l.includes(t)?"text-primary border-primary":"text-muted-text border-border","\n                  "),children:t},t+"mobile")})})}),t.map(e=>(0,n.jsx)("div",{id:e.title+"mobile",ref:t=>{i.current[e.title+"mobile"]=t},className:"container-layout min-h-screen sm:px-4 pt-16 scroll-mt-0",children:(0,n.jsx)(r.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:"information"===e.type?(0,n.jsx)(o,{information:e}):(0,n.jsx)(c,{history:e})})},e.title+"mobile"))]})};var x=l(2720),m=l(8417);let u=()=>{let{scrollYProgress:e}=(0,x.L)(),t=(0,m.z)(e,{stiffness:100,damping:30,restDelta:.001});return(0,n.jsx)(r.P.div,{className:"hidden md:block fixed left-0 right-0 top-0 h-2 z-40 origin-left bg-primary",style:{scaleX:t}})},p=e=>{let{sections:t,activeSection:l,contentRef:s,sectionRefs:a,scrollToSection:i,isLoggedIn:d}=e;return(0,n.jsxs)("div",{className:"hidden container-layout md:flex flex-row md:pt-20 gap-x-8",children:[(0,n.jsx)("nav",{className:"w-64 flex-shrink-0",children:(0,n.jsx)("div",{className:"sticky top-32 h-fit space-y-8 pr-6",children:t.map(e=>{let{title:t}=e;return(0,n.jsx)("button",{onClick:()=>i(t+"desktop"),className:"\n                  text-4xl font-black transition-colors duration-200 w-full text-left\n                  hover:text-primary/80 cursor-pointer\n                  ".concat(l.includes(t)?"text-primary":"text-muted-text","\n                "),children:t},t+"desktop")})})}),(0,n.jsx)(u,{}),(0,n.jsx)("div",{ref:s,className:"flex-1 md:border-l md:pl-16 border-border transition-all duration-300 ease-in-out",children:t.map(e=>(0,n.jsx)("div",{id:e.title+"desktop",ref:t=>{a.current[e.title+"desktop"]=t},className:"min-h-screen h-fit px-4 pt-16 md:pt-0 scroll-mt-32 pb-40 z-10",children:(0,n.jsx)(r.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:"information"===e.type?(0,n.jsx)(o,{information:e}):(0,n.jsx)(c,{history:e})})},e.title+"desktop"))})]})},h=e=>{let{history:t}=e,[l,r]=(0,s.useState)(t.contents),[o,c]=(0,s.useState)(null),[d,x]=(0,s.useState)({}),[m,u]=(0,s.useState)({}),p=(e,t)=>{c(e),x(l=>({...l,[e]:t}))},h=(e,t)=>{u(l=>({...l,[e]:t}))},f=async e=>{let t=d[e]||"",n=m[e]||null,s=new FormData;s.append("content",t),n&&s.append("image",n);try{let t=await fetch("http://127.0.0.1:8000/history_arter/".concat(e),{method:"POST",body:s});if(!t.ok)throw Error("수정 요청 실패");let n=await t.json(),a=l.map(e=>({...e,event:e.event.map(e=>String(e.id)===String(n.id)?{...e,content:n.content,img:n.img}:e)}));r(a),x(t=>{let l={...t};return delete l[e],l}),u(t=>{let l={...t};return delete l[e],l}),c(null),alert("수정되었습니다.")}catch(e){console.error("에러 발생:",e)}},b=async e=>{if(window.confirm("정말로 삭제하시겠습니까?"))try{if(!(await fetch("".concat("https://port-0-interflowerapi-m8majoul75b3ab86.sel4.cloudtype.app","/history_del/").concat(e),{method:"POST"})).ok)throw Error("삭제 요청 실패");let t=l.map(t=>({...t,event:t.event.filter(t=>t.id!==Number(e))}));r(t),x(t=>{let l={...t};return delete l[e],l}),u(t=>{let l={...t};return delete l[e],l}),c(null),alert("삭제되었습니다.")}catch(e){console.error("에러 발생:",e)}};return(0,n.jsxs)("section",{className:"cursor-default flex flex-col gap-y-6",children:[(0,n.jsx)(a.A,{title:t.title}),(0,n.jsx)("table",{className:"w-full break-keep",children:(0,n.jsx)("tbody",{children:l.map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"text-nowrap font-bold align-top pr-6 w-fit",children:e.date}),(0,n.jsx)("td",{className:"align-top pb-6 w-full",children:(0,n.jsx)("ul",{className:"flex flex-col gap-y-5",children:e.event.map(e=>(0,n.jsxs)("li",{className:"flex flex-col gap-y-3",children:[(0,n.jsx)("div",{className:"flex items-center gap-2",children:o===String(e.id)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{value:d[e.id]||"",onChange:t=>x(l=>({...l,[e.id]:t.target.value})),className:"border px-2 py-1 rounded flex-1"}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:t=>{var l;let n=(null==(l=t.target.files)?void 0:l[0])||null;h(String(e.id),n)},className:"text-sm"}),(0,n.jsx)("button",{onClick:()=>f(String(e.id)),className:"text-blue-500 text-sm",children:"저장"}),(0,n.jsx)("button",{onClick:()=>c(null),className:"text-gray-500 text-sm",children:"취소"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"flex-1",children:e.content}),(0,n.jsx)("button",{onClick:()=>p(String(e.id),e.content),className:"text-green-600 text-sm",children:"수정"}),(0,n.jsx)("button",{onClick:()=>b(String(e.id)),className:"text-red-500 text-sm",children:"삭제"})]})}),e.img&&(0,n.jsx)(i.default,{src:e.img,alt:e.content,width:500,height:500,className:"w-full h-auto max-h-[500px] object-cover pb-3"})]},e.id))})})]},"".concat(e.date,"-").concat(t)))})})]})};function f(e){let{id:t}=e,[l,a]=(0,s.useState)(!1),[r,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),[d,x]=(0,s.useState)(""),[m,u]=(0,s.useState)(null),p=new Date().getFullYear();Array.from({length:50},(e,t)=>p-t);let h=Array.from({length:12},(e,t)=>t+1),f=(0,s.useCallback)(async e=>{e.preventDefault();let l=new FormData;l.append("text",r),l.append("month",d),m&&l.append("image",m),(await fetch("".concat("https://port-0-interflowerapi-m8majoul75b3ab86.sel4.cloudtype.app","/history_event_add/").concat(t),{method:"POST",body:l})).ok?(alert("등록 완료!"),a(!1),i(""),c(""),x(""),u(null)):alert("등록 실패")},[t,r,d,m]);return(0,n.jsxs)("div",{className:"hidden md:flex flex-row md:pt-5 pl-10",children:[(0,n.jsx)("button",{className:"w-10 h-10 bg-pink-500 text-white rounded-full flex items-center justify-center text-2xl shadow",onClick:()=>a(!0),children:"+"}),l&&(0,n.jsx)(b,{onClose:()=>a(!1),text:r,setText:i,month:d,setMonth:x,image:m,setImage:u,handleSubmit:f,months:h})]})}function b(e){let{onClose:t,text:l,setText:a,month:r,setMonth:i,image:o,setImage:c,handleSubmit:d,months:x}=e,[m,u]=(0,s.useState)(!1);return(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[(0,n.jsx)("h2",{className:"text-xl font-bold mb-4",children:"연혁 추가"}),(0,n.jsxs)("form",{onSubmit:d,className:"flex flex-col gap-3",children:[(0,n.jsxs)("select",{value:r,onChange:e=>i(e.target.value),className:"border p-2 rounded",required:!0,children:[(0,n.jsx)("option",{value:"",children:"월 선택"}),x.map(e=>(0,n.jsxs)("option",{value:e,children:[e,"월"]},e))]}),(0,n.jsx)("input",{type:"text",value:l,onChange:e=>a(e.target.value),onCompositionStart:()=>u(!0),onCompositionEnd:e=>{u(!1),a(e.currentTarget.value)},placeholder:"내용 입력",className:"border p-2 rounded",required:!0}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;return c((null==(t=e.target.files)?void 0:t[0])||null)},className:"border p-2 rounded"}),(0,n.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,n.jsx)("button",{type:"button",className:"px-4 py-2 bg-gray-400 text-white rounded",onClick:t,children:"닫기"}),(0,n.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded",children:"저장"})]})]})]})})}function j(){let[e,t]=(0,s.useState)(!1),[l,a]=(0,s.useState)(""),r=new Date().getFullYear(),i=Array.from({length:50},(e,t)=>r-t);async function o(e){e.preventDefault();let n=new FormData;n.append("year",l),(await fetch("".concat("https://port-0-interflowerapi-m8majoul75b3ab86.sel4.cloudtype.app","/history_add"),{method:"POST",body:n})).ok?(alert("등록 완료!"),t(!1),a("")):alert("등록 실패")}return(0,n.jsxs)("div",{className:"hidden md:flex justify-center md:pt-5",children:[(0,n.jsx)("button",{className:"w-10 h-10 bg-pink-500 hover:bg-pink-600 text-white rounded-full flex items-center justify-center text-2xl shadow transition",onClick:()=>t(!0),children:"+"}),e&&(0,n.jsx)(function(e){let{onClose:t}=e;return(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-xl w-full max-w-md",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"연혁 추가"}),(0,n.jsxs)("form",{onSubmit:o,className:"flex flex-col gap-4",children:[(0,n.jsxs)("select",{value:l,onChange:e=>a(e.target.value),className:"border p-2 rounded",required:!0,children:[(0,n.jsx)("option",{value:"",children:"연도 선택"}),i.map(e=>(0,n.jsxs)("option",{value:e,children:[e,"년"]},e))]}),(0,n.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[(0,n.jsx)("button",{type:"button",className:"px-4 py-2 bg-gray-400 hover:bg-gray-500 text-white rounded",onClick:t,children:"닫기"}),(0,n.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded",children:"저장"})]})]})]})})},{onClose:()=>t(!1)})]})}let g=e=>{let{sections:t,activeSection:l,contentRef:s,sectionRefs:a,scrollToSection:i,isLoggedIn:c}=e;return(0,n.jsxs)("div",{className:"hidden container-layout md:flex flex-row md:pt-20 gap-x-8",children:[(0,n.jsx)("nav",{className:"w-64 flex-shrink-0",children:(0,n.jsxs)("div",{className:"sticky top-32 h-fit space-y-8 pr-6",children:[(0,n.jsx)(j,{}),t.map(e=>{let{title:t}=e;return(0,n.jsx)("button",{onClick:()=>i(t+"desktop"),className:"\n                  text-4xl font-black transition-colors duration-200 w-full text-left\n                  hover:text-primary/80 cursor-pointer\n                  ".concat(l.includes(t)?"text-primary":"text-muted-text","\n                "),children:t},t+"desktop")})]})}),(0,n.jsx)(u,{}),(0,n.jsx)("div",{ref:s,className:"flex-1 md:border-l md:pl-16 border-border transition-all duration-300 ease-in-out",children:t.map(e=>(0,n.jsxs)("div",{id:e.title+"desktop",ref:t=>{a.current[e.title+"desktop"]=t},className:"min-h-screen h-fit px-4 pt-16 md:pt-0 scroll-mt-32 pb-40 z-10",children:[(0,n.jsx)(f,{id:e.id}),(0,n.jsx)(r.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:"information"===e.type?(0,n.jsx)(o,{information:e}):(0,n.jsx)(h,{history:e})})]},e.title+"desktop"))})]})},y=e=>{let{sections:t,isLoggedIn:l}=e,i=(0,s.useRef)(null),{activeSection:o,shouldTranslateTOC:c,sectionRefs:x,scrollToSection:m}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[l,n]=(0,s.useState)(""),[a,r]=(0,s.useState)(!1),[i,o]=(0,s.useState)(0),c=(0,s.useRef)({});return(0,s.useEffect)(()=>{let t=()=>{var t,l;let n=window.scrollY;if((null!=(l=null==(t=e.current)?void 0:t.getBoundingClientRect().top)?l:0)>100){r(!1),o(n);return}n>i&&n>0?r(!1):r(!0),o(n)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[i,e]),(0,s.useEffect)(()=>{let{threshold:e=.001,rootMargin:l="-45% 0px -45% 0px"}=t,s=new IntersectionObserver(e=>{let t=e.reduce((e,t)=>e?t.intersectionRatio>e.intersectionRatio?t:e:t,null);t&&n(t.target.id)},{root:null,threshold:e,rootMargin:l});return Object.values(c.current).forEach(e=>{e&&s.observe(e)}),()=>s.disconnect()},[t]),{activeSection:l,shouldTranslateTOC:a,sectionRefs:c,scrollToSection:e=>{var t;null==(t=c.current[e])||t.scrollIntoView({behavior:"smooth",block:"start"})}}}(i,{threshold:.1,rootMargin:"-45% 0px -45% 0px"});return(console.log(l),t)?(0,n.jsxs)(r.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"my-40",children:[(0,n.jsx)(a.A,{title:"연혁",className:"container-layout"}),l?(0,n.jsx)(g,{sections:t,activeSection:o,contentRef:i,sectionRefs:x,scrollToSection:m,isLoggedIn:l}):(0,n.jsx)(p,{sections:t,activeSection:o,contentRef:i,sectionRefs:x,scrollToSection:m,isLoggedIn:l}),(0,n.jsx)(d,{sections:t,activeSection:o,contentRef:i,shouldTranslateTOC:c,sectionRefs:x,scrollToSection:m})]}):null}},7840:(e,t,l)=>{"use strict";l.d(t,{A:()=>s});var n=l(5155);let s=e=>{let{title:t,subTitle:l,className:s,...a}=e;return(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-x-4 lg:gap-x-8 gap-y-2 sm:gap-y-3 md:gap-y-6 ".concat(s),...a,children:[(0,n.jsx)("h1",{className:"text-title",children:t}),l&&(0,n.jsx)("p",{className:"md:self-end text-sm sm:text-base font-semibold pb-2 lg:pb-4",children:l})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3063,1189,3284,8441,1684,7358],()=>t(3572)),_N_E=e.O()}]);