"use strict";exports.id=2021,exports.ids=[2021],exports.modules={11711:(e,t,a)=>{a.d(t,{s:()=>d});var l=a(72789),r=a(15124),s=a(66244),n=a(54642),i=a(23007);function o(e,t){[...t].reverse().forEach(a=>{let l=e.getVariant(a);l&&(0,n.U)(e,l),e.variantChildren&&e.variantChildren.forEach(e=>{o(e,t)})})}function c(){let e=!1,t=new Set,a={subscribe:e=>(t.add(e),()=>void t.delete(e)),start(a,l){(0,s.V)(e,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");let r=[];return t.forEach(e=>{r.push((0,i._)(e,a,{transitionOverride:l}))}),Promise.all(r)},set:a=>((0,s.V)(e,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),t.forEach(e=>{var t,l;t=e,Array.isArray(l=a)?o(t,l):"string"==typeof l?o(t,[l]):(0,n.U)(t,l)})),stop(){t.forEach(e=>{e.values.forEach(e=>e.stop())})},mount:()=>(e=!0,()=>{e=!1,a.stop()})};return a}let d=function(){let e=(0,l.M)(c);return(0,r.E)(e.mount,[]),e}},21169:(e,t,a)=>{a.d(t,{default:()=>y});var l,r=a(60687),s=a(88561),n=a(90825),i=a(41555),o=a(5048),c=a(30474),d=a(76942);let u=({isOpen:e,onClose:t,item:a})=>e?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:t,children:(0,r.jsxs)(o.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:"relative w-4/5 h-fit max-h-3/5 pb-6 md:pb-0 bg-background shadow-lg flex flex-col items-end",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{onClick:t,className:"mt-4 mr-4 cursor-pointer p-2 bg-[#E5E5E5] rounded-full aspect-square flex items-center justify-center",children:(0,r.jsx)(d.A,{className:"w-full h-full fill-foreground"})}),(0,r.jsxs)("div",{className:"relative w-full h-fit flex flex-col md:flex-row gap-6 p-6 md:p-8 pt-2 md:pt-0 overflow-y-scroll scrollbar-none",children:[(0,r.jsx)("div",{className:"relative shrink-0 min-w-1/2 aspect-square md:sticky md:top-0 overflow-hidden",children:(0,r.jsx)(c.default,{src:a.image,alt:"image",fill:!0,className:"w-full h-auto object-cover"})}),(0,r.jsxs)("div",{className:"flex-1 h-fit md:h-auto md:overflow-y-scroll scrollbar-none",children:[(0,r.jsxs)("hgroup",{className:"flex flex-col gap-x-4 mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold md:mt-6 ",children:a.title}),(0,r.jsx)("h3",{className:"text-sm text-foreground/50",children:a.date})]}),(0,r.jsx)("p",{className:"text-sm text-foreground/50",children:a.description})]})]})]})}):null;var f=a(43210);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}let h=function(e){return f.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:32,height:104,fill:"none"},e),l||(l=f.createElement("path",{stroke:"current",strokeLinecap:"square",strokeMiterlimit:16,strokeWidth:2,d:"M52 2 2 52l50 50"})))},m=({imageUrls:e,className:t})=>{let[a,l]=(0,f.useState)(0),[s,n]=(0,f.useState)(null),[i,o]=(0,f.useState)(!1),d=0===a,u=a===e.length-1,p=(0,f.useCallback)(()=>{i||d||(o(!0),l(e=>e-1),setTimeout(()=>{o(!1)},500))},[i,d]),m=(0,f.useCallback)(()=>{i||u||(o(!0),l(e=>e+1),setTimeout(()=>{o(!1)},500))},[i,u]);return(0,r.jsxs)("div",{onTouchStart:e=>{n(e.touches[0].clientX)},onTouchEnd:e=>{if(null!==s){let t=s-e.changedTouches[0].clientX;Math.abs(t)>50&&(t>0&&!u?m():t<0&&!d&&p()),n(null)}},className:`relative flex w-full h-full justify-between gap-x-12 xl:gap-x-48 ${t}`,children:[(0,r.jsx)("button",{type:"button",disabled:i||d,onClick:p,className:`group text-foreground cursor-pointer disabled:cursor-default ${d?"opacity-40":"opacity-100"}`,children:(0,r.jsx)(h,{className:"w-8 object-contain stroke-foreground group-hover:stroke-primary group-disabled:group-hover:stroke-foreground"})}),(0,r.jsx)("div",{className:"h-full flex-1 overflow-hidden",children:(0,r.jsx)("div",{className:"flex transition-transform duration-500",style:{transform:`translateX(-${100*a}%)`},children:e.map((e,t)=>(0,r.jsx)("div",{className:"relative h-full w-full shrink-0 aspect-video",children:(0,r.jsx)(c.default,{src:function(e){try{let t=decodeURIComponent(e);if(t.startsWith("http://")||t.startsWith("https://"))return t;let a=t.match(/https?:\/\/[^\s]+/);if(a)return a[0];if(t.startsWith("//"))return"https:"+t;return t.startsWith("/")?t:"/"+t}catch(e){return"/fallback.png"}}(e),alt:"",fill:!0,className:"object-cover"})},t))})}),(0,r.jsx)("button",{type:"button",disabled:i||u,onClick:m,className:`group text-foreground cursor-pointer disabled:cursor-default ${u?"opacity-40":"opacity-100"}`,children:(0,r.jsx)(h,{className:"w-8 h-auto rotate-180 stroke-foreground group-hover:stroke-primary group-disabled:group-hover:stroke-foreground"})})]})};var x=a(46688),g=a(16189);let b=({id:e,type:t})=>{let a=(0,g.useRouter)(),[l,s]=(0,f.useState)(!1),[n,i]=(0,f.useState)(""),[o,c]=(0,f.useState)(""),[d,u]=(0,f.useState)(null),p=()=>{i(""),c(""),u(null)},h=async l=>{let r;l.preventDefault();let i=new FormData;i.append("title",n),i.append("content",o),d&&i.append("image",d);try{if(!("domestic"===t?await fetch(`https://port-0-interflowerapi-m8majoul75b3ab86.sel4.cloudtype.app/domesticContentAdd/${e}`,{method:"POST",body:i}):await fetch(`https://port-0-interflowerapi-m8majoul75b3ab86.sel4.cloudtype.app/internationalContentAdd/${e}`,{method:"POST",body:i})).ok)throw Error("저장 실패");alert("저장되었습니다."),p(),s(!1),a.refresh()}catch(e){console.error(e),alert("저장 중 오류가 발생했습니다.")}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"group relative aspect-square overflow-hidden cursor-pointer bg-gray-100",children:[(0,r.jsx)("div",{className:"absolute inset-0 z-10 p-10 w-full h-full bg-black/40 flex flex-col gap-y-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,r.jsx)("button",{onClick:()=>s(!0),className:"absolute inset-0 m-auto w-12 h-12 rounded-full bg-[#E34798] text-white text-3xl flex items-center justify-center z-20","aria-label":"Add",children:"+"})]}),l&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"이미지 추가"}),(0,r.jsxs)("form",{onSubmit:h,className:"flex flex-col gap-3",children:[(0,r.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"제목을 입력해주세요",className:"border p-2 rounded",required:!0}),(0,r.jsx)("textarea",{value:o,onChange:e=>c(e.target.value),placeholder:"내용을 입력해주세요",className:"border p-2 rounded h-40 resize-none",required:!0}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>u(e.target.files?.[0]||null),className:"border p-2 rounded file:bg-[#E34798] file:text-white file:px-4 file:py-2 file:rounded file:border-none"}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,r.jsx)("button",{type:"button",className:"px-4 py-2 bg-gray-400 text-white rounded",onClick:()=>{p(),s(!1)},children:"닫기"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-[#E34798] text-white rounded",children:"저장"})]})]})]})})]})};var v=a(88447);let y=({data:e,isLoggedIn:t,type:a})=>{let[l,d]=(0,f.useState)(!1),[p,h]=(0,f.useState)(null),g=e=>{h(e),d(!0)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.4},className:"py-8 flex flex-col gap-y-10 md:gap-y-14",children:[(0,r.jsx)(n.A,{title:e.title,subTitle:e.subTitle,content:e.content}),(0,r.jsx)(s.A,{}),(0,r.jsx)(m,{imageUrls:e.mainImageList,className:"w-full hidden md:flex"}),(0,r.jsx)(x.default,{className:"block md:hidden",children:e.mainImageList.map(e=>(0,r.jsx)(c.default,{src:e.startsWith("/")?e:`/${e}`,alt:"",width:500,height:500,className:"object-cover w-full h-auto aspect-video"},e.startsWith("/")?e:`/${e}`))}),(0,r.jsx)(i.default,{fixedTop:t?(0,r.jsx)(b,{id:e.id,type:a}):void 0,children:e.galleryList.map(e=>(0,r.jsx)(v.A,{image:e.image,title:e.title,date:e.date,onClick:()=>g(e)},e.id))})]}),p&&(0,r.jsx)(u,{isOpen:l,onClose:()=>d(!1),item:p})]})}},46688:(e,t,a)=>{a.d(t,{default:()=>i});var l=a(60687),r=a(43210),s=a(11711),n=a(5048);let i=({children:e,className:t})=>{let a=(0,r.useRef)(!1),[i,o]=(0,r.useState)(0),c=(0,s.s)(),d=e=>{o(e),c.start({x:-(100*e)+"%"})};return(0,l.jsxs)("div",{className:`relative w-full select-none overflow-hidden space-y-6 ${t}`,children:[(0,l.jsx)(n.P.div,{drag:"x",dragElastic:.2,onClickCapture:e=>{a.current&&(e.preventDefault(),e.stopPropagation())},onDragStart:()=>{a.current=!0},onDragEnd:(t,l)=>{let r=Math.abs(l.velocity.x),s=l.velocity.x<0?1:-1,n=1===s&&i<e.length-1||-1===s&&i>0;if((Math.abs(l.offset.x)>50||r>500)&&n){let e=i+s;o(e),c.start({x:-(100*e)+"%"})}else c.start({x:-(100*i)+"%"});a.current=!1},animate:c,initial:{x:0},transition:{type:"spring",damping:30,stiffness:300},className:"flex w-full cursor-grab active:cursor-grabbing",children:e.map((e,t)=>(0,l.jsx)("div",{className:"relative w-full flex-shrink-0 group",style:{touchAction:"pan-y pinch-zoom"},children:(0,l.jsx)("div",{className:"",children:e})},t))}),(0,l.jsx)("div",{className:"flex justify-center gap-2 pointer-events-auto",children:e.map((e,t)=>(0,l.jsx)("button",{onClick:()=>d(t),className:`w-1.5 h-1.5 rounded-full transition-all ${t===i?"bg-primary":"bg-primary/40"}`},t))})]})}},52133:(e,t,a)=>{a.d(t,{default:()=>l});let l=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kim/deploy/interflower/internationalflower/src/components/pagination/ExhibitionsPagination.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kim/deploy/interflower/internationalflower/src/components/pagination/ExhibitionsPagination.tsx","default")},76942:(e,t,a)=>{a.d(t,{A:()=>n});var l,r=a(43210);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(null,arguments)}let n=function(e){return r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:10,height:10,fill:"none"},e),l||(l=r.createElement("path",{fill:"current",d:"M5 3.89 8.89 0 10 1.11 6.11 5 10 8.89 8.89 10 5 6.11 1.11 10 0 8.89 3.89 5 0 1.11 1.11 0z"})))}}};